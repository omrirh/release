workflow:
  as: addons-and-operators-rhods-interop-aws-rosa
  steps:
    env:
      COMPUTE_MACHINE_TYPE: g4dn.2xlarge
      FIPS: "true"
      REPLICAS: "2"
      ADDON1_CONFIG: name=managed-odh;notification-email=interop-qe-ms@redhat.com
      OPERATOR1_CONFIG: name=gpu-operator-certified;namespace=nvidia-gpu-operator;source=certified-operators;target-namespaces=nvidia-gpu-operator,
      OPERATOR2_CONFIG: name=servicemeshoperator
      OPERATOR3_CONFIG: name=serverless-operator;namespace=openshift-serverless
      OPERATOR4_CONFIG: name=openshift-pipelines-operator-rh;namespace=openshift-pipelines;channel=latest
      OPERATOR5_CONFIG: name=nfd;namespace=openshift-nfd;target-namespaces=openshift-nfd,
      PARALLEL: "false"
    test:
    - ref: addon-tests-rhods
    workflow: addons-and-operators-aws-rosa
  documentation: |
    This workflow contains RHODS on ROSA interop tests components as well as cluster infra
    configurations to be re-used within CSPI-QE/MSI RHODS interp job configurations.
    RHODS interop components:
     - RHODS (addon)
     - GPU (operator)
     - ServiceMesh (operator)
     - Serverless (operator)
     - Pipelines (operator)
     - NFD (operator)